window.addEventListener("load", function () {
    const t = document.querySelector(".strap__upsell-next-arrow"),
        e = document.querySelector(".strap__upsell-prev-arrow"),
        l = document.querySelector(".strap__upsell-content"),
        n = document.querySelectorAll(".strap__upsell-item"),
        r = l.firstElementChild,
        c = r.offsetWidth + 10;
    document.querySelectorAll(".strap__upsell-item-atc").forEach((e) => {
        e.addEventListener("click", function () {
            fetch("/cart/add.js", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ items: [{ id: e.dataset.variant_id, quantity: 1 }] }) }).then((t) => {
                t.ok &&
                    theme.cart.getCart().then(function (t) {
                        new theme.CartDrawer().updateCartNotification(null, t), $(".cart-link__bubble").text(t.item_count);
                    }),
                    e.classList.add("clicked"),
                    (e.innerHTML = "ADDED âœ“");
            });
        });
    }),
        e.addEventListener("click", function () {
            l.scrollLeft - c < 0 ? l.scroll(0, 0) : l.scroll(l.scrollLeft - c, 0);
        }),
        t.addEventListener("click", function () {
            l.scrollLeft + c > c * (n.length - 1) ? l.scroll(c * (n.length - 1), 0) : l.scroll(l.scrollLeft + c, 0);
        });
});
